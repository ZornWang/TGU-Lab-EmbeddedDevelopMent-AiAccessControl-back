(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{57254:function(y,h,e){"use strict";e.d(h,{Z:function(){return Z}});var c=e(28991),a=e(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},s=o,P=e(27029),E=function(i,v){return a.createElement(P.Z,(0,c.Z)((0,c.Z)({},i),{},{ref:v,icon:s}))};E.displayName="DownOutlined";var Z=a.forwardRef(E)},49101:function(y,h,e){"use strict";e.d(h,{Z:function(){return Z}});var c=e(28991),a=e(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},s=o,P=e(27029),E=function(i,v){return a.createElement(P.Z,(0,c.Z)((0,c.Z)({},i),{},{ref:v,icon:s}))};E.displayName="PlusOutlined";var Z=a.forwardRef(E)},5966:function(y,h,e){"use strict";var c=e(22122),a=e(81253),o=e(67294),s=e(21257),P=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],Z="text",M=function(O){var j=O.fieldProps,S=O.proFieldProps,F=(0,a.Z)(O,P);return o.createElement(s.Z,(0,c.Z)({mode:"edit",valueType:Z,fieldProps:j,filedConfig:{valueType:Z},proFieldProps:S},F))},i=function(O){var j=O.fieldProps,S=O.proFieldProps,F=(0,a.Z)(O,E);return o.createElement(s.Z,(0,c.Z)({mode:"edit",valueType:"password",fieldProps:j,proFieldProps:S,filedConfig:{valueType:Z}},F))},v=M;v.Password=i,v.displayName="ProFormComponent",h.Z=v},34687:function(y){y.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},32384:function(){},12689:function(y,h,e){"use strict";e.r(h),e.d(h,{default:function(){return se}});var c=e(34792),a=e(48086),o=e(8870),s=e(3182),P=e(57337),E=e(17462),Z=e(76772),M=e(94043),i=e.n(M),v=e(28991),t=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},j=O,S=e(27029),F=function(f,L){return t.createElement(S.Z,(0,v.Z)((0,v.Z)({},f),{},{ref:L,icon:j}))};F.displayName="LockOutlined";var b=t.forwardRef(F),G=e(89366),Y=e(22122),oe=e(84305),w=e(69224),J=e(81253),Q=e(5894),X=e(13717),le=e(32384),k=["logo","message","title","subTitle","actions","children"];function q(p){var f=p.logo,L=p.message,C=p.title,z=p.subTitle,D=p.actions,T=p.children,B=(0,J.Z)(p,k),A=(0,X.YB)(),R=(0,v.Z)({searchConfig:{submitText:A.getMessage("loginForm.submitText","\u767B\u5F55")},render:function(g,d){return d.pop()},submitButtonProps:{size:"large",style:{width:"100%"}}},B.submitter),W=(0,t.useContext)(w.ZP.ConfigContext),x=W.getPrefixCls("pro-form-login"),n=function(g){return"".concat(x,"-").concat(g)},u=(0,t.useMemo)(function(){return f?typeof f=="string"?t.createElement("img",{src:f}):f:null},[f]);return t.createElement("div",{className:n("container")},t.createElement("div",{className:n("top")},C||u?t.createElement("div",{className:n("header")},u?t.createElement("span",{className:n("logo")},u):null,C?t.createElement("span",{className:n("title")},C):null):null,z?t.createElement("div",{className:n("desc")},z):null),t.createElement("div",{className:n("main")},t.createElement(Q.Z,(0,Y.Z)({isKeyPressSubmit:!0,submitter:R},B),L,T),D?t.createElement("div",{className:n("other")},D):null))}var _=q,K=e(5966),I=e(76649),ee=e(29791),te=e(30670),ne=e(34687),N=e.n(ne),V=e(61997),m=e(85893),re=function(f){var L=f.content;return(0,m.jsx)(Z.Z,{style:{marginBottom:24},message:L,type:"error",showIcon:!0})},ae=function(){var f=(0,t.useState)({}),L=(0,P.Z)(f,2),C=L[0],z=L[1],D=(0,I.tT)("@@initialState"),T=D.initialState,B=D.setInitialState,A=function(){var x=(0,s.Z)(i().mark(function n(){var u,l;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,T==null||(u=T.fetchUserInfo)===null||u===void 0?void 0:u.call(T);case 2:if(l=d.sent,!l){d.next=6;break}return d.next=6,B(function(U){return(0,o.Z)((0,o.Z)({},U),{},{currentUser:l})});case 6:case"end":return d.stop()}},n)}));return function(){return x.apply(this,arguments)}}(),R=function(){var x=(0,s.Z)(i().mark(function n(u){var l,g,d,U,H,$;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,te.login)((0,o.Z)({},u));case 3:if(l=r.sent,z(l),l.success!==!0){r.next=18;break}return(0,V.M8)(l.data.accessToken),(0,V.zI)(l.data.refreshToken),g="\u767B\u5F55\u6210\u529F\uFF01",a.default.success(g),r.next=12,A();case 12:if(I.m8){r.next=14;break}return r.abrupt("return");case 14:return d=I.m8.location.query,U=d,H=U.redirect,I.m8.push(H||"/"),r.abrupt("return");case 18:console.log(l),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(0),$="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",a.default.error($);case 25:case"end":return r.stop()}},n,null,[[0,21]])}));return function(u){return x.apply(this,arguments)}}(),W=C.status;return(0,m.jsxs)("div",{className:N().container,children:[(0,m.jsx)("div",{className:N().content,children:(0,m.jsxs)(_,{logo:(0,m.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u667A\u80FD\u95E8\u7981\u7BA1\u7406\u4E91\u5E73\u53F0",subTitle:"\u6B22\u8FCE\u4F7F\u7528\u667A\u80FD\u95E8\u7981\u7BA1\u7406\u4E91\u5E73\u53F0",initialValues:{autoLogin:!0},onFinish:function(){var x=(0,s.Z)(i().mark(function n(u){return i().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,R(u);case 2:case"end":return g.stop()}},n)}));return function(n){return x.apply(this,arguments)}}(),children:[W==="error"&&(0,m.jsx)(re,{content:"\u9519\u8BEF\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801(admin/ant.design)"}),(0,m.jsx)(K.Z,{name:"username",fieldProps:{size:"large",prefix:(0,m.jsx)(G.Z,{className:N().prefixIcon})},placeholder:"\u90AE\u7BB1",rules:[{required:!0,message:"\u90AE\u7BB1\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,m.jsx)(K.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,m.jsx)(b,{className:N().prefixIcon})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]})}),(0,m.jsx)(ee.Z,{})]})},se=ae},97435:function(y,h){"use strict";function e(c,a){for(var o=Object.assign({},c),s=0;s<a.length;s+=1){var P=a[s];delete o[P]}return o}h.Z=e}}]);
